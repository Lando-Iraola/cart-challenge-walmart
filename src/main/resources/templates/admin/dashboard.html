<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Admin Dashboard | Test Shop</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #f8fafc; font-family: 'Inter', sans-serif; }
        .stat-card { border: none; border-radius: 15px; transition: transform 0.2s; }
        .stat-card:hover { transform: translateY(-5px); }
        .icon-box { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
    </style>
</head>
<body class="py-5">

<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-5">
        <div>
            <h1 class="fw-bold text-dark">System Administration</h1>
            <p class="text-muted">Manage your shop inventory and rule engine from one place.</p>
        </div>
        <a href="/" class="btn btn-outline-primary px-4 rounded-pill">View Public Store</a>
    </div>

    <div class="row g-4">
        <div class="col-md-6 col-lg-3">
            <div class="card stat-card shadow-sm p-3">
                <div class="d-flex align-items-center mb-3">
                    <div class="icon-box bg-primary-subtle text-primary me-3">üì¶</div>
                    <div>
                        <h6 class="text-muted mb-0">Products</h6>
                        <h4 class="fw-bold mb-0" th:text="${productCount}">0</h4>
                    </div>
                </div>
                <a th:href="@{/admin/products/new}" class="btn btn-primary w-100">Manage Products</a>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="card stat-card shadow-sm p-3">
                <div class="d-flex align-items-center mb-3">
                    <div class="icon-box bg-success-subtle text-success me-3">üè∑Ô∏è</div>
                    <div>
                        <h6 class="text-muted mb-0">Brands</h6>
                        <h4 class="fw-bold mb-0" th:text="${brandCount}">0</h4>
                    </div>
                </div>
                <a th:href="@{/admin/brands/new}" class="btn btn-success w-100 text-white">Manage Brands</a>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="card stat-card shadow-sm p-3">
                <div class="d-flex align-items-center mb-3">
                    <div class="icon-box bg-danger-subtle text-danger me-3">‚öñÔ∏è</div>
                    <div>
                        <h6 class="text-muted mb-0">Active Rules</h6>
                        <h4 class="fw-bold mb-0" th:text="${ruleCount}">0</h4>
                    </div>
                </div>
                <a th:href="@{/admin/rules/new}" class="btn btn-danger w-100">Configure Rules</a>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="card stat-card shadow-sm p-3">
                <div class="d-flex align-items-center mb-3">
                    <div class="icon-box bg-dark-subtle text-dark me-3">üí≥</div>
                    <div>
                        <h6 class="text-muted mb-0">Methods</h6>
                        <h4 class="fw-bold mb-0" th:text="${processorCount}">0</h4>
                    </div>
                </div>
                <a th:href="@{/admin/processors/new}" class="btn btn-dark w-100">Manage Payments</a>
            </div>
        </div>
    </div>

    <div class="mt-5 p-4 bg-white rounded-4 shadow-sm">
        <h5 class="fw-bold mb-3">Engine Status</h5>
        <div class="alert alert-info border-0 mb-0">
            <strong>System Pulse:</strong> All controllers are mapped to the <code>/admin</code> prefix. 
            The Rule Engine is currently scanning <span th:text="${ruleCount}"></span> active entities for the Cart Simulator.
        </div>
    </div>
</div>

</body>
</html>